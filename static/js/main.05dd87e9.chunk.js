(this.webpackJsonpinzidenz=this.webpackJsonpinzidenz||[]).push([[0],{340:function(e,t,n){},607:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(37),r=n.n(c),s=(n(340),n(30)),d=n(618),l=n(107),o=n(621),j=n(307),u=n(623),b=n(153),h=n(80),p=n.n(h),x=n(167),O=n(78),m=n.n(O);var f=function(){var e=[9362,9562,9162,9564,9179,9372,14713,9278,9663,11007],t=new URLSearchParams(window.location.search);t.has("q")&&(e=t.get("q").split(",").map((function(e){return parseInt(e.trim())})));var n=e.reduce((function(e,t){return e+"admunitid=".concat(t," OR ")}),"").replace(/ OR $/,"");return"https://services7.arcgis.com/mOBPykOjAyBO2ZKk/arcgis/rest/services/RKI_Landkreisdaten/FeatureServer/0/query?where=".concat(n,"&outFields=GEN,BEZ,cases,deaths,last_update,cases7_per_100k,AdmUnitId&returnGeometry=false&f=json")}();var g=n(223),y=/Stand: \D*\s?(\d.*) \(onlin/,z=/Damit sind nun (.*) Personen \((.*%) der Gesamt/,v=/Insgesamt haben mindestens (.*) Personen \((.*%.?)\) eine/,k=/(Am .* wurden in Deutschland .* Im)/;function w(e){var t=e.split("."),n=Number(t[0])<10?"0"+t[0]:t[0],a=Number(t[1])<10?"0"+t[1]:t[1];return"".concat(n,".").concat(a,".").concat(t[2])}var S=n(620),D=n(622),I=n(7),A=function(e){var t=e.inzidenz;return Object(I.jsx)(D.a,{style:{fontSize:"13px"},color:t<45?"green":t<75?"orange":t<125?"volcano":"red",children:t.toFixed(2).toString().replace(".",",")})},L=function(e){var t=e.germany,n=t.newCases,a=t.inzidenz,i=t.firstTimeVaccinated,c=t.totalVaccinated,r=t.percentVaccinated,s=t.firstTimeVaccinatedPercent;return Object(I.jsxs)(S.b,{column:1,size:"small",bordered:!0,children:[Object(I.jsx)(S.b.Item,{style:{paddingLeft:"7px"},label:"Neuinfektionen",children:Object(I.jsx)("div",{style:{textAlign:"center"},children:n})}),Object(I.jsx)(S.b.Item,{style:{paddingLeft:"7px"},label:"Inzidenz",children:Object(I.jsx)("div",{style:{textAlign:"center"},children:Object(I.jsx)(A,{inzidenz:a})})}),Object(I.jsx)(S.b.Item,{label:"Erstgeimpfte",style:{paddingLeft:"7px"},children:Object(I.jsxs)("div",{style:{textAlign:"center"},children:[i," (",s,")"]})}),Object(I.jsx)(S.b.Item,{label:"Vollst. Geimpfte",style:{paddingLeft:"7px"},children:Object(I.jsxs)("div",{style:{textAlign:"center"},children:[c," (",r,")"]})})]})},C=n(118),N=n.n(C),V=function(e){var t=e.date;return Object(I.jsxs)(N.a,{type:"secondary",children:["Stand: ",t]})},F=n(132),B=n(41),K=n(133),T=n(617);function U(e){return String(e).split("").reverse().map((function(e,t){return(t+1)%3===0?"."+e:e})).reverse().join("").replace(/^\./,"")}function E(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return H("".concat(e.getDate(),".").concat(e.getMonth()+1,".").concat(e.getFullYear())+(t?" ".concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds()):""),t)}function H(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"."!==e[2]&&(e=W(e,"0",0)),"."!==e[5]&&(e=W(e,"0",3)),t&&(":"!==e[13]&&(e=W(e,"0",11)),":"!==e[16]&&(e=W(e,"0",14)),e.length<19&&(e=W(e,"0",17))),e}function W(e,t,n){return e.substr(0,n)+t+e.substr(n)}var M=function(e){var t=e.counties.map((function(e){return Object(K.a)(Object(K.a)({},e),{},{key:e.id})})).sort((function(e,t){return e.inzidenz-t.inzidenz})),n=[{title:"Name",key:"name",render:function(e){return e.type.includes("kreis")?Object(I.jsxs)("span",{children:[e.name,Object(I.jsx)(N.a,{type:"secondary",children:" (LK)"})]}):e.name}},{title:"Inzidenz",dataIndex:"inzidenz",key:"inzidenz",render:function(e){return Object(I.jsx)(A,{inzidenz:e})}},{title:"F\xe4lle insges.",dataIndex:"cases",key:"cases",render:function(e){return U(e)}},{title:"Tote insges.",dataIndex:"deaths",key:"deaths",render:function(e){return U(e)}}];return Object(I.jsx)(T.a,{size:"small",pagination:!1,showHeader:!0,dataSource:t,columns:n})},P=n(150),_=n(612),q=n(613),R=n(325),G=n(324),J=n(318),Z=n(329),Y=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(null),r=Object(s.a)(c,2),l=r[0],u=r[1];Object(a.useEffect)((function(){m()("https://valid-alpha-268602.ew.r.appspot.com/counties").then((function(e){var t=e.data;i(t),u(h(t[9362]).slice(-9))}))}),[]);var h=function(e){return e.map((function(e){var t;return Object(K.a)(Object(K.a)({},e),{},{newCases:Number(null===(t=e.newCases)||void 0===t?void 0:t.replace(".","")),inzidenz:e.inzidenz.toFixed(0),lastUpdated:e.lastUpdated.replace(".2021, 00:00 Uhr","")})}))};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(d.a,{closable:!0,message:"Wo ist die Deutschland-Historie?",description:" Das RKI aktualisiert die Corona Kennzahlen f\xfcr ganz Deutschland seit Juli 2021 nur noch von Mo - Fr. Eine Deutschland-Historie mit t\xe4glichen Fallzahlen ist daher, ohne erh\xf6hten Programmieraufwand meinerseits, aktuell nicht m\xf6glich. Sobald die dritte Welle anrollt und das RKI die Fallzahlen wieder t\xe4glich meldet, kommt auch die Deutschland-Historie zur\xfcck \ud83d\ude09"}),Object(I.jsx)("br",{}),l&&Object(I.jsxs)(o.a,{align:"middle",justify:"space-between",children:[Object(I.jsxs)("h4",{className:"m-0",children:["St\xe4dte & Landkreise ",Object(I.jsx)(N.a,{type:"secondary",children:"(Inzidenz)"})]}),Object(I.jsx)(P.a,{size:"small",onChange:function(e){var t=n[e];u(h(t).slice(-9))},defaultValue:"9362",children:Object.entries(n).map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(I.jsxs)(P.a.Option,{value:n,children:[a[0].name," ",a[0].type.includes("kreis")?"(LK)":""]},n)}))})]}),l?Object(I.jsx)(_.a,{height:290,children:Object(I.jsxs)(q.a,{margin:{top:10},data:l,children:[Object(I.jsx)(R.a,{hide:!0,fontSize:11,domain:["dataMin - 60","dataMax + 100"]}),Object(I.jsx)(G.a,{fontSize:11,dataKey:"lastUpdated",padding:{left:20,right:20}}),9===l.length&&Object(I.jsx)(J.a,{strokeWidth:2,strokeDasharray:"3 3",stroke:"#7f8c8d",r:27,y:l[1].inzidenz,x:l[1].lastUpdated}),Object(I.jsx)(Z.a,{strokeWidth:2,dot:{strokeWidth:2,r:4},stroke:"#7f8c8d",isAnimationActive:!1,label:{fontSize:11,position:"top",offset:10},name:"Inzidenz",dataKey:"inzidenz"})]})}):Object(I.jsx)(o.a,{className:"mt-20",justify:"center",children:Object(I.jsx)(j.a,{indicator:Object(I.jsx)(b.a,{}),tip:"Lade Historie"})})]})},$=n.p+"static/media/bat.823dd11b.jpg",Q=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],i=t[1],c=function(){i(null),m()("https://valid-alpha-268602.ew.r.appspot.com/joke-of-the-day").then((function(e){return i(e.data)}))};return Object(a.useEffect)((function(){return c()}),[]),[n,c]},X=function(){var e=Q(),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(d.a,{closable:!0,message:"Mir gehen die Witze aus!",description:"Kennen Sie englische oder deutsche COVID-19 Witze? Schicken Sie sie gerne per Mail an oscar.rosner@web.de"}),Object(I.jsxs)(o.a,{align:"middle",className:"mt-2",justify:"space-between",children:[Object(I.jsx)("h2",{style:{margin:0},children:"Joke of the day"}),Object(I.jsx)(l.a,{onClick:a,icon:Object(I.jsx)(u.a,{}),size:"small",children:"Aktualisieren"})]}),Object(I.jsx)("h3",{style:{color:"gray",fontWeight:400},children:E(new Date,!1)}),n||Object(I.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(I.jsx)(j.a,{indicator:Object(I.jsx)(b.a,{}),tip:"Lade Daten"})}),Object(I.jsx)(o.a,{justify:"center",children:Object(I.jsx)("img",{width:"230px",src:$,alt:"A Bat"})})]})},ee=n(624),te=n(625),ne=n(626),ae=function(){var e=Object(B.e)();return Object(I.jsxs)(o.a,{justify:"space-between",className:"mt-2 mb-2",children:[Object(I.jsx)(F.b,{to:"/",children:Object(I.jsx)(l.a,{disabled:"/"===e.pathname,type:"link",size:"small",icon:Object(I.jsx)(ee.a,{}),children:"Home"})}),Object(I.jsx)(F.b,{to:"/history",children:Object(I.jsx)(l.a,{disabled:"/history"===e.pathname,type:"link",size:"small",icon:Object(I.jsx)(te.a,{}),children:"Historie"})}),Object(I.jsx)(F.b,{to:"/joke-of-the-day",children:Object(I.jsx)(l.a,{disabled:"/joke-of-the-day"===e.pathname,type:"link",size:"small",icon:Object(I.jsx)(ne.a,{}),children:"Joke of the Day"})})]})};function ie(){window.location.href="https://kexplx.github.io/covid"}var ce=function(){var e=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],i=t[1];Object(a.useEffect)((function(){return c()}),[]);var c=function(){var e=Object(x.a)(p.a.mark((function e(){var t,n,a,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),t=Date.now(),e.next=4,m()(f);case 4:n=e.sent,a=n.data,c=a.features.map((function(e){return{id:e.attributes.AdmUnitId,name:e.attributes.GEN,lastUpdated:e.attributes.last_update,inzidenz:e.attributes.cases7_per_100k,type:e.attributes.BEZ,state:e.attributes.BL,cases:e.attributes.cases,deaths:e.attributes.deaths}})),r=400-(Date.now()-t),setTimeout((function(){return i(c)}),r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return[n,c]}(),t=Object(s.a)(e,2),n=t[0],i=t[1],c=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],i=t[1];Object(a.useEffect)((function(){return c()}),[]);var c=function(){var e=Object(x.a)(p.a.mark((function e(){var t,n,a,c,r,d,l,o,j,u,b,h,x,O,f,S,D,I,A,L,C;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),e.next=3,m()("https://europe-west3-node02-307615.cloudfunctions.net/func-1?url=https://www.rki.de/DE/Content/InfAZ/N/Neuartiges_Coronavirus/Fallzahlen.html");case 3:return t=e.sent,n=t.data,a=Object(g.a)(n),c=a.querySelector("#main > div.text > table > tbody > tr:nth-child(17) > td:nth-child(3) > strong").textContent.replace(",","."),r=+a.querySelector("#main > div.text > table > tbody > tr:nth-child(17) > td:nth-child(5)").textContent.replace(",","."),d=a.querySelector("#main > div.text > p:nth-child(4)").textContent,l=w(y.exec(d)[1]),e.next=12,m()("https://europe-west3-node02-307615.cloudfunctions.net/func-1?url=https://impfdashboard.de");case 12:o=e.sent,j=o.data,a=Object(g.a)(j),u=a.querySelector(".text-summary").textContent.replace(/(\n|\r)/g,"").replace(/\s\s/g," "),b=z.exec(u),h=Object(s.a)(b,3),x=h[1],O=h[2],x=x.replace("mindestens","").trim(),O=O.replace(" ",""),f=v.exec(u),S=Object(s.a)(f,3),D=S[1],I=(I=S[2]).replace(" ",""),A=k.exec(u),L=Object(s.a)(A,2),C=L[1],i({newCases:c,firstTimeVaccinated:D,latestVaccinedDay:C,firstTimeVaccinatedPercent:I,inzidenz:r,lastUpdated:l,totalVaccinated:x,percentVaccinated:O});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return[n,c]}(),r=Object(s.a)(c,2),h=r[0],O=r[1];return Object(I.jsxs)("div",{className:"container",children:[Object(I.jsx)(d.a,{closable:!0,type:"error",description:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h2",{children:"Neue Version verf\xfcgbar!"}),"P\xfcnktlich zur vierten Welle haben wir eine neue Version dieser App entwickelt, mit diesen Features:",Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:"Hospitalisierungsinzidenz"}),Object(I.jsx)("li",{children:"Top 10 Landkreise (7T Inzidenz)"}),Object(I.jsx)("li",{children:"Kennzahlen f\xfcr Bayern und Deutschland an 7 Tagen die Woche"}),Object(I.jsx)("li",{children:"8-Tage Deutschland Historie"}),Object(I.jsx)("li",{children:"Kleineres Bundle (ca. 150 KB weniger zu downloaden) "})]}),Object(I.jsx)("p",{children:"Au\xdferdem haben wir unser Backend vollst\xe4ndig \xfcberarbeitet, wodurch die Ladeprobleme, die in der ersten Version h\xe4ufig auftraten, behoben wurden."}),Object(I.jsx)(l.a,{onClick:ie,type:"primary",children:"Hier klicken"})," ","oder via URL:",Object(I.jsx)("strong",{children:" https://kexplx.github.io/covid"})]})}),Object(I.jsxs)(F.a,{basename:"/inzidenz",children:[Object(I.jsx)(ae,{}),Object(I.jsxs)(B.a,{exact:!0,path:"/",children:[Object(I.jsxs)(o.a,{className:"mt-1",align:"bottom",style:{marginBottom:"8px"},justify:"space-between",children:[null===h?Object(I.jsx)("span",{}):Object(I.jsx)(V,{date:h.lastUpdated}),Object(I.jsx)(l.a,{size:"small",loading:null===h,icon:Object(I.jsx)(u.a,{}),onClick:O,children:"Deutschland"})]}),null===h?Object(I.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(I.jsx)(j.a,{indicator:Object(I.jsx)(b.a,{}),tip:"Lade Daten"})}):Object(I.jsx)(L,{germany:h}),Object(I.jsxs)(o.a,{className:"mt-2",align:"bottom",style:{marginBottom:"8px"},justify:"space-between",children:[null===n?Object(I.jsx)("span",{}):Object(I.jsx)(V,{date:n[0].lastUpdated}),Object(I.jsx)(l.a,{size:"small",loading:null===n,icon:Object(I.jsx)(u.a,{}),onClick:i,children:"St\xe4dte & Landkreise"})]}),null===n?Object(I.jsx)("div",{style:{textAlign:"center",marginTop:"100px"},children:Object(I.jsx)(j.a,{indicator:Object(I.jsx)(b.a,{}),tip:"Lade Daten"})}):Object(I.jsx)(M,{counties:n})]}),Object(I.jsx)(B.a,{path:"/history",component:Y}),Object(I.jsx)(B.a,{path:"/joke-of-the-day",component:X})]})]})};r.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(ce,{})}),document.getElementById("root"))}},[[607,1,2]]]);
//# sourceMappingURL=main.05dd87e9.chunk.js.map